#Region System
FEEDSTRINGS;
SKIPCHECK;
UNDEFVALS;
#EndRegion
UNDEFVALS;

#Region N-Calculation rules: Dimension:Compensation
#Autogenerated CALC NUMERIC 436F6D70656E736174696F6E
   #Region Dimension:Compensation, Member:YTD Salary & Bonus
   #Autogenerated MEMBERCALC NUMERIC 5B436F6D70656E736174696F6E5D2E5B5954442053616C617279202620426F6E75735D
   ##CUMULATE : calculates the cumulative totals in output member cell based on the orginal values in the input member cell
   ['Compensation':'YTD Salary & Bonus']=N:DB('Compensation', !organization, !EmployeeList, !Month, !Year, !Version, 'Monthly Salary & Bonus')+DB('Compensation', !organization, !EmployeeList, ATTRS('Month', !Month, 'previousperiod'), !Year, !Version, 'YTD
   Salary & Bonus');
   #EndRegion
#EndRegion
#Region Compensation Calculations

['FTE']=N:DB('Employee',!Organization,!EmployeeList,!Year,!Version,!Month)\DB('Employee',!Organization,!EmployeeList,!YEar,!Version,!Month)
*DB('Employee',!Organization,!EmployeeList,!Year,!Version,'FTE');
['6000']=N:DB('Employee',!Organization,!EmployeeList,!Year,!Version,!Month);
['6005']=N:DB('Job Type Assumption',DB('Employee',!Organization,!EmployeeList,!Year,!Version,'Job Type'),!Year,!Version,'Bonus %')\100*['6000'];
['Medical Exp']=N:['FTE']*DB('Benefit Assumptions',!Year,!Version,'Medical');
['Other Benefits Exp']=N:['6000']*DB('Benefit Assumptions',!Year,!Version,'Other Benefits Rate')\100;
['Medicare Exp']=N:['6000']*DB('Benefit Assumptions',!Year,!Version,'Medicare')\100;
['FICA Exp']=N:IF(['YTD Salary & Bonus']<DB('Benefit Assumptions',!Year,!Version,'FICA Limit'),['Monthly Salary & Bonus']*DB('Benefit Assumptions',!Year,!Version,'FICA')\100,
IF(DB('Compensation',!Organization,!EmployeeList,ATTRS('Month',!Month,'Previousperiod'),!Year,!Version,'YTD Salary & Bonus')<DB('Benefit Assumptions',!Year,!Version,'FICA Limit'),
(DB('Benefit Assumptions',!Year,!Version,'FICA Limit')-DB('Compensation',!Organization,!EmployeeList,ATTRS('Month',!Month,'Previousperiod'),!Year,!Version,'YTD Salary & Bonus'))*DB('Benefit Assumptions',!Year,!Version,'FICA')\100,0));
#EndRegion

#Region C-Calculation rules: Dimension:Compensation
#Autogenerated CALC CONSOLIDATED 436F6D70656E736174696F6E
   #Region Dimension:Compensation, Member:FTE
   #Autogenerated MEMBERCALC CONSOLIDATED 5B436F6D70656E736174696F6E5D2E5B4654455D
   ['Month':{'Year', 'YTD', 'Q1', 'Q2', 'Q3', 'Q4', 'Jan YTD', 'Feb YTD', 'Mar YTD', 'Apr YTD', 'May YTD', 'Jun YTD', 'Jul YTD', 'Aug YTD', 'Oct YTD', 'Nov YTD', 'Dec YTD', 'Sep YTD'}, 'Compensation':{'FTE'}]=C:IF(DIMIX('Month', ATTRS('Month', !Month, 'la
   stperiod'))>0,
   DB('Compensation', !organization, !EmployeeList, ATTRS('Month', !Month, 'lastperiod'), !Year, !Version, 'FTE'),
   DB('Compensation', !organization, !EmployeeList, ELCOMP('Month', !Month, ELCOMPN('Month', !Month)), !Year, !Version, 'FTE'));
   #EndRegion
#EndRegion
['EmpID']=S:DB('Employee',!organization,!EmployeeList,!Year,!Version,'EmpID');


FEEDERS;

['Monthly Salary & Bonus']=>['YTD Salary & Bonus'];
[{'Y1','Y2','Y3'}]=>DB('Compensation Reporting','Total Employees',!organization,!EmployeeList,!Month,'Y2',!Version,!Compensation);

#Region FEED The Income Statement
# Salary
#['6000']=>DB(IF(ATTRS('Version',!Version,'LinkVersion')@<>'','Income Statement',''), 'Local', !organization, !Year, !Month,'6000', !Version);
# Bonus
#['6005']=>DB(IF(ATTRS('Version',!Version,'LinkVersion')@<>'','Income Statement',''), 'Local', !organization, !Year, !Month,'6005', !Version);
# Benefits
#['6010']=>DB(IF(ATTRS('Version',!Version,'LinkVersion')@<>'','Income Statement',''), 'Local', !organization, !Year, !Month,'6010', !Version);
# Employer Taxes
#['6015']=>DB(IF(ATTRS('Version',!Version,'LinkVersion')@<>'','Income Statement',''), 'Local', !organization, !Year, !Month,'6015', !Version);
# Headcount
#['FTE']=>DB(IF(ATTRS('Version',!Version,'LinkVersion')@<>'','Income Statement',''), 'Local', !organization, !Year, !Month,'FTE', !Version);
#EndRegion